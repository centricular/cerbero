# -*- Mode: Python -*- vi:si:et:sw=4:sts=4:ts=4:syntax=python
from cerbero.tools.libtool import LibtoolLibrary


class Recipe(recipe.Recipe):
    name = 'atk'
    version = '2.30.0'
    stype = SourceType.TARBALL
    btype = BuildType.MESON
    url = 'gnome://'
    tarball_checksum = 'dd4d90d4217f2a0c1fee708a555596c2c19d26fef0952e1ead1938ab632c027b'
    licenses = [License.LGPLv2Plus]
    meson_options = {'docs': 'false', 'introspection': 'false'}
    deps = ['glib']

    files_libs = ['libatk-1.0']
    files_devel = ['include/atk-1.0', 'lib/pkgconfig/atk.pc']

    def post_install(self):
        libtool_la = LibtoolLibrary('epoxy', None, None, None,
                self.config.libdir, self.config.target_platform)
        libtool_la.save()
