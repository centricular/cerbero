# -*- Mode: Python -*- vi:si:et:sw=4:sts=4:ts=4:syntax=python


class Recipe(recipe.Recipe):
    name = 'libxml2'
    version = '2.9.7'
    stype = SourceType.TARBALL
    # Upstream still has a broken SSL certificate, use our mirror
    #url = 'https://xmlsoft.org/sources/libxml2-%(version)s.tar.gz'
    url = 'https://gstreamer.freedesktop.org/src/mirror/libxml2-%(version)s.tar.gz'
    tarball_checksum = 'f63c5e7d30362ed28b38bfa1ac6313f9a80230720b7fb6c80575eeab3ff5900c'
    btype = BuildType.MESON
    licenses = [License.MIT]
    deps = [ 'zlib' ]
    patches = ['libxml2/0001-Add-meson-build-files.patch']

    files_libs = ['libxml2']
    files_devel = ['include/libxml2', 'lib/pkgconfig/libxml-2.0.pc', 'bin/xmllint%(bext)s']
