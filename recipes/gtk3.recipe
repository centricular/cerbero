# -*- Mode: Python -*- vi:si:et:sw=4:sts=4:ts=4:syntax=python

class Recipe(recipe.Recipe):
    name = 'gtk+'
    version = '3.24.1'
    stype = SourceType.GIT
    remotes = {'origin': 'https://gitlab.gnome.org/GNOME/gtk.git'}
    commit = 'origin/wip/nirbheek/gtk-3-24-meson'
    #url = 'gnome://'
    #tarball_checksum = '68387be307b99aadcdc653561d7a2a7f0113b93561fb18ded7075ec9ced5b02f'
    licenses = [License.LGPLv2Plus]
    btype = BuildType.MESON

    deps = ['glib', 'gdk-pixbuf', 'libepoxy', 'pango', 'harfbuzz', 'atk', 'cairo']

    files_libs = ['libgdk-3', 'libgtk-3']
    files_bins = ['gtk-update-icon-cache', 'gtk-launch', 'gtk-query-settings',
                  'gtk3-widget-factory', 'gtk-builder-tool', 'gtk3-icon-browser',
                  'gtk3-demo']
    files_devel = ['include/gtk-3.0', 'lib/pkgconfig/gdk-3.0.pc',
                   'lib/pkgconfig/gtk+-3.0.pc']

    platform_files_devel = {
        Platform.WINDOWS: ['lib/pkgconfig/gtk+-win32-3.0.pc'],
        Platform.LINUX: ['lib/pkgconfig/gtk+-wayland-3.0.pc', 'lib/pkgconfig/gtk+-x11-3.0.pc'],
        Platform.DARWIN: ['lib/pkgconfig/gtk+-quartz-3.0.pc'],
    }

    # FIXME: Dangerous, should add a way to do this selectively for a list of pkg-config files
    use_system_libs = True
